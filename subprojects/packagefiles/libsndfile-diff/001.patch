diff -Naur libsndfile-1.2.0/meson.build libsndfile-patch/meson.build
--- libsndfile-1.2.0/meson.build	2023-04-10 10:34:16.000000000 +0200
+++ libsndfile-patch/meson.build	2023-06-11 00:00:14.312120315 +0200
@@ -278,6 +278,8 @@
   endif
 endif
 
+do_install = get_option('default_library') != 'static' or not meson.is_subproject()
+
 libsndfile = library(
   'sndfile',
   libsndfile_sources,
@@ -286,7 +288,8 @@
   vs_module_defs: 'src/libsndfile-1.def',
   link_args: link_args,
   dependencies: [mp3_dep, mp3lame_dep, libm_dep, ogg_dep, flac_dep, vorbis_dep, vorbisenc_dep, opus_dep, sndio_dep],
-  install: true,
+  install: do_install,
+  install_dir: get_option('libdir') / get_option('colobot_lib_subdir'), # TODO Other platforms ?
 )
 
 libsndfile_dep = declare_dependency(
@@ -300,41 +303,45 @@
   description: 'A library for reading and writing audio files',
 )
 
-install_headers(
-  'include/sndfile.h',
-  'include/sndfile.hh',
-)
-
-install_man(
-  'man/sndfile-cmp.1',
-  'man/sndfile-concat.1',
-  'man/sndfile-convert.1',
-  'man/sndfile-info.1',
-  'man/sndfile-interleave.1',
-  'man/sndfile-metadata-get.1',
-  'man/sndfile-play.1',
-  'man/sndfile-salvage.1',
-)
+if get_option('colobot_install_headers')
+  install_headers(
+    'include/sndfile.h',
+    'include/sndfile.hh',
+  )
+endif
 
-install_data(
-  'docs/index.md',
-  'docs/libsndfile.jpg',
-  'docs/libsndfile.css',
-  'docs/print.css',
-  'docs/api.md',
-  'docs/command.md',
-  'docs/bugs.md',
-  'docs/formats.md',
-  'docs/sndfile_info.md',
-  'docs/new_file_type_howto.md',
-  'docs/win32.md',
-  'docs/FAQ.md',
-  'docs/lists.md',
-  'docs/embedded_files.md',
-  'docs/octave.md',
-  'docs/tutorial.md',
-  install_dir: get_option('datadir') / 'doc' / 'libsndfile',
-)
+if get_option('colobot_install_docs')
+  install_man(
+    'man/sndfile-cmp.1',
+    'man/sndfile-concat.1',
+    'man/sndfile-convert.1',
+    'man/sndfile-info.1',
+    'man/sndfile-interleave.1',
+    'man/sndfile-metadata-get.1',
+    'man/sndfile-play.1',
+    'man/sndfile-salvage.1',
+  )
+
+  install_data(
+    'docs/index.md',
+    'docs/libsndfile.jpg',
+    'docs/libsndfile.css',
+    'docs/print.css',
+    'docs/api.md',
+    'docs/command.md',
+    'docs/bugs.md',
+    'docs/formats.md',
+    'docs/sndfile_info.md',
+    'docs/new_file_type_howto.md',
+    'docs/win32.md',
+    'docs/FAQ.md',
+    'docs/lists.md',
+    'docs/embedded_files.md',
+    'docs/octave.md',
+    'docs/tutorial.md',
+    install_dir: get_option('datadir') / 'doc' / 'libsndfile',
+  )
+endif
 
 subdir('examples')
 subdir('programs')
diff -Naur libsndfile-1.2.0/meson_options.txt libsndfile-patch/meson_options.txt
--- libsndfile-1.2.0/meson_options.txt	2023-04-10 10:34:16.000000000 +0200
+++ libsndfile-patch/meson_options.txt	2023-06-11 00:00:51.776119469 +0200
@@ -1,3 +1,10 @@
+# XXX Hackish way to put subproject libraries inside the same directory
+option('colobot_lib_subdir', type: 'string', yield: true)
+
+# XXX Hackish way to control installation of headers and other non-shared-library files
+option('colobot_install_headers', type: 'boolean', value: false, yield: true)
+option('colobot_install_docs', type: 'boolean', value: false, yield: true)
+
 option('cpu_clip', type: 'boolean',
   value: false,
   description: 'Enable tricky cpu specific clipper',
@@ -22,7 +29,7 @@
 )
 
 option('programs', type: 'boolean',
-  value: true,
+  value: false,
   description: 'Build programs',
 )
 
